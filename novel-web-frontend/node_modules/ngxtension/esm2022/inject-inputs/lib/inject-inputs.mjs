import { computed, isSignal, reflectComponentType, } from '@angular/core';
export function inputs(dir, dirType) {
    const mirror = reflectComponentType(dirType);
    if (!mirror) {
        throw new Error(`[ngxtension] The provided symbol is not a component nor a directive`);
    }
    const inputs = mirror.inputs.reduce((inputs, cur) => {
        if (dir[cur.propName] && isSignal(dir[cur.propName])) {
            inputs[cur.propName] = dir[cur.propName];
        }
        return inputs;
    }, {});
    return computed(() => Object.keys(inputs).reduce((acc, key) => {
        acc[key] = inputs[key]();
        return acc;
    }, {}));
}
/**
 * @deprecated Please use `inputs()` instead. Will be removed in v5
 * @since v4
 */
export function injectInputs(dir, dirType) {
    return inputs(dir, dirType);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5qZWN0LWlucHV0cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4dGVuc2lvbi9pbmplY3QtaW5wdXRzL3NyYy9saWIvaW5qZWN0LWlucHV0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ04sUUFBUSxFQUNSLFFBQVEsRUFDUixvQkFBb0IsR0FJcEIsTUFBTSxlQUFlLENBQUM7QUFRdkIsTUFBTSxVQUFVLE1BQU0sQ0FDckIsR0FBdUIsRUFDdkIsT0FBYTtJQUViLE1BQU0sTUFBTSxHQUFHLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBRTdDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNiLE1BQU0sSUFBSSxLQUFLLENBQ2QscUVBQXFFLENBQ3JFLENBQUM7SUFDSCxDQUFDO0lBRUQsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQ2xDLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ2YsSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUN0RCxNQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDMUMsQ0FBQztRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2YsQ0FBQyxFQUNELEVBQXNDLENBQ3RDLENBQUM7SUFFRixPQUFPLFFBQVEsQ0FBQyxHQUFHLEVBQUUsQ0FDcEIsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQ3pCLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFO1FBQ1osR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQ3pCLE9BQU8sR0FBRyxDQUFDO0lBQ1osQ0FBQyxFQUNELEVBQXlCLENBQ3pCLENBQzZDLENBQUM7QUFDakQsQ0FBQztBQUVEOzs7R0FHRztBQUNILE1BQU0sVUFBVSxZQUFZLENBQzNCLEdBQXVCLEVBQ3ZCLE9BQWE7SUFFYixPQUFPLE1BQU0sQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDN0IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG5cdGNvbXB1dGVkLFxuXHRpc1NpZ25hbCxcblx0cmVmbGVjdENvbXBvbmVudFR5cGUsXG5cdHR5cGUgSW5wdXRTaWduYWwsXG5cdHR5cGUgU2lnbmFsLFxuXHR0eXBlIFR5cGUsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5leHBvcnQgdHlwZSBJbmplY3RlZElucHV0czxUPiA9IHtcblx0W1AgaW4ga2V5b2YgVCBhcyBUW1BdIGV4dGVuZHMgSW5wdXRTaWduYWw8YW55PlxuXHRcdD8gUFxuXHRcdDogbmV2ZXJdOiBUW1BdIGV4dGVuZHMgSW5wdXRTaWduYWw8aW5mZXIgVT4gPyBVIDogbmV2ZXI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gaW5wdXRzPFREaXIgZXh0ZW5kcyBUeXBlPGFueT4+KFxuXHRkaXI6IEluc3RhbmNlVHlwZTxURGlyPixcblx0ZGlyVHlwZTogVERpcixcbik6IFNpZ25hbDxJbmplY3RlZElucHV0czxJbnN0YW5jZVR5cGU8VERpcj4+PiB7XG5cdGNvbnN0IG1pcnJvciA9IHJlZmxlY3RDb21wb25lbnRUeXBlKGRpclR5cGUpO1xuXG5cdGlmICghbWlycm9yKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0YFtuZ3h0ZW5zaW9uXSBUaGUgcHJvdmlkZWQgc3ltYm9sIGlzIG5vdCBhIGNvbXBvbmVudCBub3IgYSBkaXJlY3RpdmVgLFxuXHRcdCk7XG5cdH1cblxuXHRjb25zdCBpbnB1dHMgPSBtaXJyb3IuaW5wdXRzLnJlZHVjZShcblx0XHQoaW5wdXRzLCBjdXIpID0+IHtcblx0XHRcdGlmIChkaXJbY3VyLnByb3BOYW1lXSAmJiBpc1NpZ25hbChkaXJbY3VyLnByb3BOYW1lXSkpIHtcblx0XHRcdFx0aW5wdXRzW2N1ci5wcm9wTmFtZV0gPSBkaXJbY3VyLnByb3BOYW1lXTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBpbnB1dHM7XG5cdFx0fSxcblx0XHR7fSBhcyBSZWNvcmQ8c3RyaW5nLCBJbnB1dFNpZ25hbDxhbnk+Pixcblx0KTtcblxuXHRyZXR1cm4gY29tcHV0ZWQoKCkgPT5cblx0XHRPYmplY3Qua2V5cyhpbnB1dHMpLnJlZHVjZShcblx0XHRcdChhY2MsIGtleSkgPT4ge1xuXHRcdFx0XHRhY2Nba2V5XSA9IGlucHV0c1trZXldKCk7XG5cdFx0XHRcdHJldHVybiBhY2M7XG5cdFx0XHR9LFxuXHRcdFx0e30gYXMgUmVjb3JkPHN0cmluZywgYW55Pixcblx0XHQpLFxuXHQpIGFzIFNpZ25hbDxJbmplY3RlZElucHV0czxJbnN0YW5jZVR5cGU8VERpcj4+Pjtcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIGBpbnB1dHMoKWAgaW5zdGVhZC4gV2lsbCBiZSByZW1vdmVkIGluIHY1XG4gKiBAc2luY2UgdjRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluamVjdElucHV0czxURGlyIGV4dGVuZHMgVHlwZTxhbnk+Pihcblx0ZGlyOiBJbnN0YW5jZVR5cGU8VERpcj4sXG5cdGRpclR5cGU6IFREaXIsXG4pOiBTaWduYWw8SW5qZWN0ZWRJbnB1dHM8SW5zdGFuY2VUeXBlPFREaXI+Pj4ge1xuXHRyZXR1cm4gaW5wdXRzKGRpciwgZGlyVHlwZSk7XG59XG4iXX0=